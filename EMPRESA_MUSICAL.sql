CREATE DATABASE EMPRESA_MUSICAL;

USE EMPRESA_MUSICAL;

CREATE TABLE COMPOSITOR(
	NOME VARCHAR(30),
    CPF BIGINT PRIMARY KEY
    );
    
CREATE TABLE MUSICA(
	TITULO VARCHAR(30),
    LETRA VARCHAR(10000),
    CODIGO INT PRIMARY KEY
    );
    
CREATE TABLE GRAVACAO(
	TEMPO TIME,
    CODIGO_GRAVACAO INT PRIMARY KEY,
    CPF BIGINT,
    CODIGO INT,
	FOREIGN KEY(CPF) REFERENCES CANTOR(CPF),
    FOREIGN KEY(CODIGO) REFERENCES MUSICA(CODIGO)
    );
    


CREATE TABLE CANTOR(
	NOME VARCHAR(30), 
    CPF BIGINT PRIMARY KEY
    );
    
    
CREATE TABLE COMPOSICAO(
	CPF BIGINT,
    CODIGO INT,
    PRIMARY KEY(CPF, CODIGO),
	FOREIGN KEY (CPF) REFERENCES COMPOSITOR(CPF),
    FOREIGN KEY (CODIGO) REFERENCES MUSICA(CODIGO)
    );

INSERT INTO COMPOSITOR VALUES('JOAO MARCOS', 0164840218);
INSERT INTO COMPOSITOR VALUES('ANTÔNIO LUIZ', 0164840219);
INSERT INTO COMPOSITOR VALUES('ALEX MATHEUS', 0164840211);
INSERT INTO COMPOSITOR VALUES('RAFAEL MARQUES', 0164840220);
INSERT INTO COMPOSITOR VALUES('ERYCK GOMES', 0164840221);
INSERT INTO COMPOSITOR VALUES('NAELSON VINICIUS', 0164840222);
INSERT INTO COMPOSITOR VALUES('RAMON MELO', 0164840223);
INSERT INTO COMPOSITOR VALUES('JOSE RODRIGUES', 0164840224);
INSERT INTO COMPOSITOR VALUES('MARIA CLARA', 0164840225);
INSERT INTO COMPOSITOR VALUES('ANA BEATRIZ', 0164840226);

INSERT INTO CANTOR VALUES('GAL COSTA', 24604644446);
INSERT INTO CANTOR VALUES('ELIS REGINA', 94319084411);
INSERT INTO CANTOR VALUES('ROBERTO CARLOS', 35791667434);
INSERT INTO CANTOR VALUES('LUAN SANTANA', 73627380487);
INSERT INTO CANTOR VALUES('ELTON JOHN', 81571318470);
INSERT INTO CANTOR VALUES('MADONNA', 65383830413);
INSERT INTO CANTOR VALUES('IVETE SANGALO', 30433696451);
INSERT INTO CANTOR VALUES('VICTOR LEONARDO', 72000384404);
INSERT INTO CANTOR VALUES('TIM MAIA', 45508118462);
INSERT INTO CANTOR VALUES('CHICO BUARQUE', 80743225481);    
INSERT INTO CANTOR VALUES('MICHAEL JACKSON', 57479653441);
INSERT INTO CANTOR VALUES('CAETANO VELOSO', 99785930475);
INSERT INTO CANTOR VALUES('RAUL SEIXAS', 22602833495);
INSERT INTO CANTOR VALUES('EDUARDO COSTA', 52213364486);
INSERT INTO CANTOR VALUES('DANIEL', 31196029490);

INSERT INTO MUSICA VALUES('A VOLTA DOS QUE NAO FORAM', 'A VOLTA JÁ HOUVE', 25534);
INSERT INTO MUSICA VALUES('AGUAS DE MARCO', 'AGUAS DE MARCO', 25532);
INSERT INTO MUSICA VALUES('GAROTA DE IPANEMA', 'GAROTA DE IPANEMA', 25535);
INSERT INTO MUSICA VALUES('IDEOLOGIA', 'IDEOLOGIA', 25536);
INSERT INTO MUSICA VALUES('CHEGA DE SAUDADE', 'CHEGA DE SAUDADE', 25537);
INSERT INTO MUSICA VALUES('CARINHOSO', 'CARINHOSO', 25538);
INSERT INTO MUSICA VALUES('METAMORFOSE AMBULANTE', 'METAMORFOSE AMBULANTE', 25539);
INSERT INTO MUSICA VALUES('OURO DE TOLO', 'OURO DE TOLO', 25540);
INSERT INTO MUSICA VALUES('PRIMAVERA', 'PRIMAVERA', 25541);
INSERT INTO MUSICA VALUES('AQUARELA DO BRASIL', 'AQUARELA DO BRASIL', 25542);

INSERT INTO COMPOSICAO VALUES(0164840218, 25534);
INSERT INTO COMPOSICAO VALUES(0164840218, 25535);
INSERT INTO COMPOSICAO VALUES(0164840218, 25536);
INSERT INTO COMPOSICAO VALUES(0164840218, 25537);
INSERT INTO COMPOSICAO VALUES(0164840218, 25538);
INSERT INTO COMPOSICAO VALUES(0164840219, 25539);
INSERT INTO COMPOSICAO VALUES(0164840219, 25540);
INSERT INTO COMPOSICAO VALUES(0164840219, 25541);
INSERT INTO COMPOSICAO VALUES(0164840219, 25542);
INSERT INTO COMPOSICAO VALUES(0164840219, 25532);

INSERT INTO GRAVACAO VALUES('00:04:31', 24334222, 24604644446, 25532);
INSERT INTO GRAVACAO VALUES('00:05:41', 24334223, 24604644446, 25534);
INSERT INTO GRAVACAO VALUES('00:05:03', 24334224, 24604644446, 25535);
INSERT INTO GRAVACAO VALUES('00:07:01', 24334225, 24604644446, 25536);
INSERT INTO GRAVACAO VALUES('00:03:24', 24334226, 24604644446, 25537);
INSERT INTO GRAVACAO VALUES('00:03:31', 24334227, 24604644446, 25538);
INSERT INTO GRAVACAO VALUES('00:04:51', 24334228, 24604644446, 25539);

INSERT INTO GRAVACAO VALUES('00:03:57', 24334229, 35791667434, 25540);
INSERT INTO GRAVACAO VALUES('00:02:38', 24334230, 35791667434, 25541);
INSERT INTO GRAVACAO VALUES('00:03:21', 24334232, 35791667434, 25542);
INSERT INTO GRAVACAO VALUES('00:03:31', 24334233, 35791667434, 25535);
INSERT INTO GRAVACAO VALUES('00:03:51', 24334234, 35791667434, 25535);
INSERT INTO GRAVACAO VALUES('00:03:11', 24334235, 35791667434, 25535);
INSERT INTO GRAVACAO VALUES('00:03:17', 24334236, 35791667434, 25535);

INSERT INTO GRAVACAO VALUES('00:03:00', 24334237, 65383830413, 25536);
INSERT INTO GRAVACAO VALUES('00:08:15', 24334238, 65383830413, 25536);
INSERT INTO GRAVACAO VALUES('00:08:20', 24334239, 65383830413, 25536);
INSERT INTO GRAVACAO VALUES('00:08:25', 24334240, 65383830413, 25534);
INSERT INTO GRAVACAO VALUES('00:08:30', 24334241, 65383830413, 25538);
INSERT INTO GRAVACAO VALUES('00:08:45', 24334242, 65383830413, 25539);
INSERT INTO GRAVACAO VALUES('00:07:10', 24334243, 65383830413, 25539);

SELECT MUSICA.TITULO, COMPOSITOR.NOME, GRAVACAO.TEMPO FROM MUSICA, COMPOSITOR, GRAVACAO, CANTOR, COMPOSICAO WHERE CANTOR.CPF = GRAVACAO.CPF AND GRAVACAO.CODIGO = COMPOSICAO.CODIGO;

SELECT COMPOSITOR.NOME, COMPOSITOR.CPF, MUSICA.TITULO, MUSICA.LETRA, MUSICA.CODIGO FROM MUSICA, COMPOSITOR, COMPOSICAO WHERE MUSICA.CODIGO = COMPOSICAO.CODIGO AND COMPOSICAO.CPF = COMPOSITOR.CPF; 

